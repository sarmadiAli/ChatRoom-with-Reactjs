{"ast":null,"code":"var _jsxFileName = \"/home/alisarmadi/html/projects/chatroom/forntend/src/pages/chatRoom/chatComonent/footer.js\";\nimport React, { useContext, useState } from 'react';\nimport SocketIOClient from 'socket.io-client';\nimport ChatContext from '../../../context/chatContext';\n\nfunction Footer(props) {\n  const {\n    propsChat\n  } = props;\n  const chatContext = useContext(ChatContext);\n  const socket = React.useRef(SocketIOClient.connect(\"http://localhost:3010/socket\"));\n\n  let chengHandler = e => {\n    chatContext.dispatch({\n      type: 'add_text',\n      paylode: e.target.value\n    });\n  };\n\n  let sumbit = () => {\n    socket.current.emit(\"newMessage\", {\n      key: Date.now(),\n      date: new Date(),\n      mes: chatContext.state,\n      state: {\n        name: propsChat.location.state.name,\n        gender: propsChat.location.state.gender\n      }\n    }); // chatContext.dispatch({ type: 'add_text', paylode: '' })\n  };\n\n  const handleKeyDown = event => {\n    if (event.key === 'Enter') {\n      sumbit();\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input1\",\n    onChange: chengHandler,\n    value: chatContext.state.toString(),\n    onKeyDown: handleKeyDown,\n    placeholder: `  تایپ کنید ...`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \" buttonA\",\n    onClick: sumbit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    className: \"bi bi-cursor-fill\",\n    fill: \"currentColor\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M14.082 2.182a.5.5 0 0 1 .103.557L8.528 15.467a.5.5 0 0 1-.917-.007L5.57 10.694.803 8.652a.5.5 0 0 1-.006-.916l12.728-5.657a.5.5 0 0 1 .556.103z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 21\n    }\n  }))));\n}\n\nexport default Footer;","map":{"version":3,"sources":["/home/alisarmadi/html/projects/chatroom/forntend/src/pages/chatRoom/chatComonent/footer.js"],"names":["React","useContext","useState","SocketIOClient","ChatContext","Footer","props","propsChat","chatContext","socket","useRef","connect","chengHandler","e","dispatch","type","paylode","target","value","sumbit","current","emit","key","Date","now","date","mes","state","name","location","gender","handleKeyDown","event","toString"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AAEA,OAAOC,WAAP,MAAwB,8BAAxB;;AAEA,SAASC,MAAT,CAAgBC,KAAhB,EAAuB;AACnB,QAAM;AAAEC,IAAAA;AAAF,MAAgBD,KAAtB;AACA,QAAME,WAAW,GAAGP,UAAU,CAACG,WAAD,CAA9B;AAGA,QAAMK,MAAM,GAAGT,KAAK,CAACU,MAAN,CAAaP,cAAc,CAACQ,OAAf,CAAuB,8BAAvB,CAAb,CAAf;;AACA,MAAIC,YAAY,GAAGC,CAAC,IAAI;AACpBL,IAAAA,WAAW,CAACM,QAAZ,CAAqB;AAAEC,MAAAA,IAAI,EAAE,UAAR;AAAoBC,MAAAA,OAAO,EAAEH,CAAC,CAACI,MAAF,CAASC;AAAtC,KAArB;AACH,GAFD;;AAIA,MAAIC,MAAM,GAAG,MAAM;AAEfV,IAAAA,MAAM,CAACW,OAAP,CAAeC,IAAf,CAAoB,YAApB,EAAkC;AAC9BC,MAAAA,GAAG,EAAEC,IAAI,CAACC,GAAL,EADyB;AAE9BC,MAAAA,IAAI,EAAE,IAAIF,IAAJ,EAFwB;AAG9BG,MAAAA,GAAG,EAAElB,WAAW,CAACmB,KAHa;AAI9BA,MAAAA,KAAK,EAAE;AACHC,QAAAA,IAAI,EAAErB,SAAS,CAACsB,QAAV,CAAmBF,KAAnB,CAAyBC,IAD5B;AAEHE,QAAAA,MAAM,EAAEvB,SAAS,CAACsB,QAAV,CAAmBF,KAAnB,CAAyBG;AAF9B;AAJuB,KAAlC,EAFe,CAWf;AAEH,GAbD;;AAcA,QAAMC,aAAa,GAAIC,KAAD,IAAW;AAC7B,QAAIA,KAAK,CAACV,GAAN,KAAc,OAAlB,EAA2B;AACvBH,MAAAA,MAAM;AACT;AACJ,GAJD;;AAMA,sBACI,uDACI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,SAAS,EAAC,QAA7B;AAAsC,IAAA,QAAQ,EAAEP,YAAhD;AAA8D,IAAA,KAAK,EAAEJ,WAAW,CAACmB,KAAZ,CAAkBM,QAAlB,EAArE;AAAmG,IAAA,SAAS,EAAEF,aAA9G;AAA6H,IAAA,WAAW,EAAG,iBAA3I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAQ,IAAA,SAAS,EAAC,UAAlB;AAA6B,IAAA,OAAO,EAAEZ,MAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,KAAK,EAAC,KAAX;AAAiB,IAAA,MAAM,EAAC,KAAxB;AAA8B,IAAA,OAAO,EAAC,WAAtC;AAAkD,IAAA,SAAS,EAAC,mBAA5D;AAAgF,IAAA,IAAI,EAAC,cAArF;AAAoG,IAAA,KAAK,EAAC,4BAA1G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAM,IAAA,QAAQ,EAAC,SAAf;AAAyB,IAAA,CAAC,EAAC,kJAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,CAFJ,CADJ;AAWH;;AAED,eAAed,MAAf","sourcesContent":["import React, { useContext, useState } from 'react'\nimport SocketIOClient from 'socket.io-client'\n\nimport ChatContext from '../../../context/chatContext'\n\nfunction Footer(props) {\n    const { propsChat } = props\n    const chatContext = useContext(ChatContext)\n\n\n    const socket = React.useRef(SocketIOClient.connect(\"http://localhost:3010/socket\"))\n    let chengHandler = e => {\n        chatContext.dispatch({ type: 'add_text', paylode: e.target.value })\n    }\n\n    let sumbit = () => {\n\n        socket.current.emit(\"newMessage\", {\n            key: Date.now(),\n            date: new Date(),\n            mes: chatContext.state,\n            state: {\n                name: propsChat.location.state.name,\n                gender: propsChat.location.state.gender\n            }\n        })\n        // chatContext.dispatch({ type: 'add_text', paylode: '' })\n\n    }\n    const handleKeyDown = (event) => {\n        if (event.key === 'Enter') {\n            sumbit()\n        }\n    }\n    \n    return (\n        <>\n            <input type=\"text\" className=\"input1\" onChange={chengHandler} value={chatContext.state.toString()} onKeyDown={handleKeyDown} placeholder={`  تایپ کنید ...`} />\n            <button className=\" buttonA\" onClick={sumbit}>\n                <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-cursor-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path fillRule=\"evenodd\" d=\"M14.082 2.182a.5.5 0 0 1 .103.557L8.528 15.467a.5.5 0 0 1-.917-.007L5.57 10.694.803 8.652a.5.5 0 0 1-.006-.916l12.728-5.657a.5.5 0 0 1 .556.103z\" />\n                </svg>\n            </button>\n        </>\n\n    )\n}\n\nexport default Footer"]},"metadata":{},"sourceType":"module"}